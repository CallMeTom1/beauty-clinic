<h2>{{ formType === 'shipping' ? 'Shipping Address' : 'Billing Address' }}</h2>

<form [formGroup]="addressForm" (ngSubmit)="onSubmit()">
  <div>
    <label for="firstname">Firstname</label>
    <input id="firstname" formControlName="firstname" />
    <div *ngIf="addressForm.get('firstname')?.invalid && addressForm.get('firstname')?.touched">
      <small>Ce champ est requis et doit avoir entre 2 et 20 caractères.</small>
    </div>
  </div>
  <div>
    <label for="lastname">Lastname</label>
    <input id="lastname" formControlName="lastname" />
    <div *ngIf="addressForm.get('lastname')?.invalid && addressForm.get('lastname')?.touched">
      <small>Ce champ est requis et doit avoir entre 2 et 20 caractères.</small>
    </div>
  </div>
  <div>
    <label for="phoneNumber">Phone Number</label>
    <input id="phoneNumber" formControlName="phoneNumber" />
    <div *ngIf="addressForm.get('phoneNumber')?.invalid && addressForm.get('phoneNumber')?.touched">
      <small>Ce champ est requis.</small>
    </div>
  </div>

  <div formGroupName="address">
    <div>
      <label for="road">Rue:</label>
      <input id="road" formControlName="road" />
      <div *ngIf="addressForm.get('address.road')?.invalid && addressForm.get('address.road')?.touched">
        <small>Ce champ ne doit pas dépasser 50 caractères.</small>
      </div>
    </div>

    <div>
      <label for="nb">Numéro:</label>
      <input id="nb" formControlName="nb" />
      <div *ngIf="addressForm.get('address.nb')?.invalid && addressForm.get('address.nb')?.touched">
        <small>Ce champ ne doit pas dépasser 10 caractères.</small>
      </div>
    </div>

    <div>
      <label for="cp">Code Postal:</label>
      <input id="cp" formControlName="cp" />
      <div *ngIf="addressForm.get('address.cp')?.invalid && addressForm.get('address.cp')?.touched">
        <small>Ce champ ne doit pas dépasser 10 caractères.</small>
      </div>
    </div>

    <div>
      <label for="town">Ville:</label>
      <input id="town" formControlName="town" />
      <div *ngIf="addressForm.get('address.town')?.invalid && addressForm.get('address.town')?.touched">
        <small>Ce champ ne doit pas dépasser 30 caractères.</small>
      </div>
    </div>

    <div>
      <label for="country">Pays:</label>
      <input id="country" formControlName="country" />
      <div *ngIf="addressForm.get('address.country')?.invalid && addressForm.get('address.country')?.touched">
        <small>Ce champ ne doit pas dépasser 30 caractères.</small>
      </div>
    </div>

    <div>
      <label for="complement">Complément d'adresse:</label>
      <input id="complement" formControlName="complement" />
    </div>
  </div>

  <button type="submit">Soumettre</button>
</form>
